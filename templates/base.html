{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <meta name="description" content=""/>
  <meta name="author" content=""/>
  <title>{% block title %}Dashtreme Admin - Free Dashboard for Bootstrap 4 by Codervent{% endblock %}</title>
  <!-- loader-->
  <link href="{% static 'assets/css/pace.min.css' %}" rel="stylesheet"/>
  <script src="{% static 'assets/js/pace.min.js' %}"></script>
  <!--favicon-->
  <link rel="icon" href="{% static 'assets/images/favicon.ico' %}" type="image/x-icon">
  <!-- Vector CSS (omitido: archivo no disponible en este proyecto) -->
  <!-- simplebar CSS-->
  <link href="{% static 'assets/plugins/simplebar/css/simplebar.css' %}" rel="stylesheet"/>
  <!-- Bootstrap core CSS-->
  <link href="{% static 'assets/css/bootstrap.min.css' %}" rel="stylesheet"/>
  <!-- animate CSS-->
  <link href="{% static 'assets/css/animate.css' %}" rel="stylesheet" type="text/css"/>
  <!-- Icons CSS-->
  <link href="{% static 'assets/css/icons.css' %}" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Sidebar CSS-->
  <link href="{% static 'assets/css/sidebar-menu.css' %}" rel="stylesheet"/>
  <!-- Custom Style-->
  <link href="{% static 'assets/css/app-style.css' %}" rel="stylesheet"/>
  <link
    rel="stylesheet"
    href="https://cdn.datatables.net/1.13.8/css/dataTables.bootstrap4.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.bootstrap4.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap4.min.css"
  />
  <style>
    .tabla-control tbody td { color: #111 !important; }
    .tabla-control .btn { border-width: 1.5px; }
    .tabla-control .btn i { font-size: 14px; }
    .tabla-control .icono-editar { color: #f39c12 !important; }
    .tabla-control .icono-eliminar { color: #e74c3c !important; }
    .tabla-control .icono-estado { color: #3498db !important; }
    .tabla-control .icono-ver { color: #2ecc71 !important; }
    .dt-buttons .btn {
      border-radius: 10px !important;
      font-weight: 600;
      margin-right: 6px;
    }
    .dataTables_filter input,
    .dataTables_length select {
      border-radius: 10px !important;
      border: 1px solid rgba(34, 45, 50, 0.25) !important;
    }
  </style>
  {% block extra_css %}{% endblock %}
  
</head>

<body class="bg-theme bg-theme1">
 
<!-- Start wrapper-->
 <div id="wrapper">
 
  <!--Start sidebar-wrapper-->
   <div id="sidebar-wrapper" data-simplebar="" data-simplebar-auto-hide="true">
     <div class="brand-logo">
      <a href="index.html">
       <img src="{% static 'assets/images/logo-icon.png' %}" class="logo-icon" alt="logo icon">
       <h5 class="logo-text">Dashtreme Admin</h5>
     </a>
   </div>
   <ul class="sidebar-menu do-nicescrol">
      {% block sidebar_menu %}
      {% include 'partials/sidebar_menu.html' %}
      {% endblock %}
    </ul>
   
   </div>
   <!--End sidebar-wrapper-->

<!--Start topbar header-->
<header class="topbar-nav">
 <nav class="navbar navbar-expand fixed-top">
  <ul class="navbar-nav mr-auto align-items-center">
    <li class="nav-item">
      <a class="nav-link toggle-menu" href="javascript:void();">
       <i class="icon-menu menu-icon"></i>
     </a>
    </li>
    <li class="nav-item">
      <form class="search-bar">
        <input type="text" class="form-control" placeholder="Enter keywords">
         <a href="javascript:void();"><i class="icon-magnifier"></i></a>
      </form>
    </li>
  </ul>
     
  <ul class="navbar-nav align-items-center right-nav-link">
    <li class="nav-item dropdown-lg">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="javascript:void();">
      <i class="fa fa-envelope-open-o"></i></a>
    </li>
    <li class="nav-item dropdown-lg">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="javascript:void();">
      <i class="fa fa-bell-o"></i></a>
    </li>
    <li class="nav-item language">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret waves-effect" data-toggle="dropdown" href="javascript:void();"><i class="fa fa-flag"></i></a>
      <ul class="dropdown-menu dropdown-menu-right">
          <li class="dropdown-item"> <i class="flag-icon flag-icon-gb mr-2"></i> English</li>
          <li class="dropdown-item"> <i class="flag-icon flag-icon-fr mr-2"></i> French</li>
          <li class="dropdown-item"> <i class="flag-icon flag-icon-cn mr-2"></i> Chinese</li>
          <li class="dropdown-item"> <i class="flag-icon flag-icon-de mr-2"></i> German</li>
        </ul>
    </li>
    <li class="nav-item">
      <a class="nav-link dropdown-toggle dropdown-toggle-nocaret" data-toggle="dropdown" href="#">
        <span class="user-profile"><img src="{% static 'assets/images/logo-icon.png' %}" class="img-circle" alt="user avatar"></span>
      </a>
      <ul class="dropdown-menu dropdown-menu-right">
       <li class="dropdown-item user-details">
        <a href="javaScript:void();">
           <div class="media">
             <div class="avatar"><img class="align-self-start mr-3" src="{% static 'assets/images/logo-icon.png' %}" alt="user avatar"></div>
            <div class="media-body">
            <h6 class="mt-2 user-title">Sarajhon Mccoy</h6>
            <p class="user-subtitle">mccoy@example.com</p>
            </div>
           </div>
          </a>
        </li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-envelope mr-2"></i> Inbox</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-wallet mr-2"></i> Account</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-settings mr-2"></i> Setting</li>
        <li class="dropdown-divider"></li>
        <li class="dropdown-item"><i class="icon-power mr-2"></i> Logout</li>
      </ul>
    </li>
  </ul>
</nav>
</header>
<!--End topbar header-->

<div class="clearfix"></div>
	
  <div class="content-wrapper">
    <div class="container-fluid">

  {% block content %}
  <!--Start Dashboard Content-->


      <!--End Dashboard Content-->
      {% endblock %}
	  
	<!--start overlay-->
		  <div class="overlay toggle-menu"></div>
		<!--end overlay-->
		
    </div>
    <!-- End container-fluid-->
    
    </div><!--End content-wrapper-->
   <!--Start Back To Top Button-->
    <a href="javaScript:void();" class="back-to-top"><i class="fa fa-angle-double-up"></i> </a>
    <!--End Back To Top Button-->
	
	<!--
	<footer class="footer">
      <div class="container">
        <div class="text-center">
          Copyright © 2018 Dashtreme Admin
        </div>
      </div>
    </footer>
	-->
	
  <!--start color switcher-->
   <div class="right-sidebar">
    <div class="switcher-icon">
      <i class="zmdi zmdi-settings zmdi-hc-spin"></i>
    </div>
    <div class="right-sidebar-content">

      <p class="mb-0">Gaussion Texture</p>
      <hr>
      
      <ul class="switcher">
        <li id="theme1"></li>
        <li id="theme2"></li>
        <li id="theme3"></li>
        <li id="theme4"></li>
        <li id="theme5"></li>
        <li id="theme6"></li>
      </ul>

      <p class="mb-0">Gradient Background</p>
      <hr>
      
      <ul class="switcher">
        <li id="theme7"></li>
        <li id="theme8"></li>
        <li id="theme9"></li>
        <li id="theme10"></li>
        <li id="theme11"></li>
        <li id="theme12"></li>
		<li id="theme13"></li>
        <li id="theme14"></li>
        <li id="theme15"></li>
      </ul>
      
     </div>
   </div>
  <!--end color switcher-->
   
  </div><!--End wrapper-->

  <!-- Bootstrap core JavaScript-->
  <script src="{% static 'assets/js/jquery.min.js' %}"></script>
  <script src="{% static 'assets/js/popper.min.js' %}"></script>
  <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
	
 <!-- simplebar js -->
  <script src="{% static 'assets/plugins/simplebar/js/simplebar.js' %}"></script>
  <!-- sidebar-menu js -->
  <script src="{% static 'assets/js/sidebar-menu.js' %}"></script>
  <!-- loader scripts (omitido: archivo no disponible en este proyecto) -->
  <!-- Custom scripts -->
  <script src="{% static 'assets/js/app-script.js' %}"></script>
  <!-- Chart js -->
  
  <script src="{% static 'assets/plugins/Chart.js/Chart.min.js' %}"></script>
 
  <!-- Index js (omitido para evitar errores por elementos inexistentes en las vistas de control) -->
  <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.8/js/dataTables.bootstrap4.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap4.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.bootstrap4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.colVis.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    window.alertaConfirmar = function ({
      titulo = "¿Confirmar accion?",
      html = "Esta accion no se puede deshacer.",
      confirmText = "<i class='fas fa-check me-2'></i>Confirmar",
      cancelText = "<i class='fas fa-times me-2'></i>Cancelar",
      confirmColor = "#dc3545",
    } = {}) {
      return Swal.fire({
        title: titulo,
        html: `<div class="text-center py-2"><i class="fas fa-triangle-exclamation fa-3x text-warning mb-3"></i><div class="text-muted">${html}</div></div>`,
        showCancelButton: true,
        confirmButtonText: confirmText,
        cancelButtonText: cancelText,
        confirmButtonColor: confirmColor,
        cancelButtonColor: "#6c757d",
        reverseButtons: true,
      });
    };

    window.alertaExito = function (mensaje) {
      Swal.fire({
        title: "Exito",
        html: `<div class="text-center py-2"><i class="fas fa-check-circle fa-3x text-success mb-3"></i><div class="text-muted">${mensaje}</div></div>`,
        confirmButtonColor: "#27ae60",
      });
    };

    window.alertaError = function (mensaje) {
      Swal.fire({
        title: "Error",
        html: `<div class="text-center py-2"><i class="fas fa-times-circle fa-3x text-danger mb-3"></i><div class="text-muted">${mensaje}</div></div>`,
        confirmButtonColor: "#e74c3c",
      });
    };

    window.alertaInfo = function (mensaje) {
      Swal.fire({
        title: "Aviso",
        html: `<div class="text-center py-2"><i class="fas fa-circle-info fa-3x text-primary mb-3"></i><div class="text-muted">${mensaje}</div></div>`,
        confirmButtonColor: "#3498db",
      });
    };

    window.inicializarTablaControl = function (selector, orderCol = 0) {
      if (!window.jQuery || !$.fn.DataTable || !$(selector).length) return;
      if ($.fn.DataTable.isDataTable(selector)) return;
      $(selector).DataTable({
        responsive: true,
        pageLength: 10,
        lengthMenu: [[5, 10, 25, 50, -1], [5, 10, 25, 50, "Todos"]],
        order: [[orderCol, "asc"]],
        dom: "lBfrtip",
        buttons: [
          { extend: "copy", className: "btn btn-secondary btn-sm", text: "Copiar" },
          { extend: "csv", className: "btn btn-dark btn-sm", text: "CSV" },
          { extend: "excel", className: "btn btn-success btn-sm", text: "Excel" },
          { extend: "pdf", className: "btn btn-warning btn-sm", text: "PDF" },
          { extend: "print", className: "btn btn-info btn-sm", text: "Imprimir" },
        ],
        language: { url: "https://cdn.datatables.net/plug-ins/1.13.8/i18n/es-ES.json" },
      });
    };

    $(document).on("submit", ".js-form-eliminar", function (e) {
      e.preventDefault();
      const form = this;
      alertaConfirmar({
        titulo: "¿Eliminar registro?",
        html: "Esta accion no se puede deshacer.",
        confirmText: "<i class='fas fa-trash me-2'></i>Eliminar",
      }).then((r) => {
        if (r.isConfirmed) form.submit();
      });
    });

    $(document).on("submit", ".js-form-confirmar-estado", function (e) {
      e.preventDefault();
      const form = this;
      const nombre = form.dataset.nombre || "este registro";
      alertaConfirmar({
        titulo: "¿Cambiar estado?",
        html: `Se cambiara el estado de <b>${nombre}</b>.`,
        confirmText: "<i class='fas fa-power-off me-2'></i>Confirmar",
        confirmColor: "#3498db",
      }).then((r) => {
        if (r.isConfirmed) form.submit();
      });
    });
  </script>
  {% if messages %}
    {% for mensaje in messages %}
      <script>
        {% if "success" in mensaje.tags %}
          alertaExito("{{ mensaje|escapejs }}");
        {% elif "error" in mensaje.tags %}
          alertaError("{{ mensaje|escapejs }}");
        {% else %}
          alertaInfo("{{ mensaje|escapejs }}");
        {% endif %}
      </script>
    {% endfor %}
  {% endif %}
  {% block extra_scripts %}{% endblock %}

  
</body>
</html>
